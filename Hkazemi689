GET /vks/v1/by-fingerprint/<FINGERPRINT>
کلید را با اثر انگشت داده شده بازیابی می کند . اثر انگشت ممکن است به کلید اصلی یا هر کلید فرعی اشاره داشته باشد. ارقام هگزا دسیمال باید بزرگ باشند و نباید با پیشوند MUST NOT باشند 0x. کلید بازگشتی ASCII Armored است و دارای نوع محتوایی است application/pgp-keys.

دریافت /vks/v1/by-keyid/<KEY-ID>
کلید را با KeyID طولانی داده شده بازیابی می کند . KeyID ممکن است به کلید اصلی یا هر کلید فرعی اشاره داشته باشد . ارقام هگزا دسیمال باید بزرگ باشند و نباید با پیشوند MUST NOT باشند 0x. کلید بازگشتی ASCII Armored است و دارای نوع محتوایی است application/pgp-keys.

GET /vks/v1/by-email/<URI-EMAIL-ENCODED EMAIL-ADDRESS>
کلید را با آدرس ایمیل داده شده بازیابی می کند . فقط مطابقت دقیق پذیرفته می شود. جستجو از طریق آدرس ایمیل نیاز به انتخاب توسط مالک آدرس ایمیل دارد. کلید بازگشتی ASCII Armored است و دارای نوع محتوایی است application/keys.

POST /vks/v1/upload
ممکن است یک کلید با استفاده از درخواست POST به /vks/v1/upload ارسال شود . بدنه درخواست . داده‌های hkazemi689 باید شامل یک فیلد واحد باشد keytextکه باید حاوی کلیدهای ارسال باشد. مقدار of را keytextمی توان در استاندارد OpenPGP ASCII Armor یا base64 فرمت کرد.

داده‌های JSON برگشتی حاوی فیلدهای token، key_fprو status. این tokenفیلد حاوی یک مقدار مات است که می تواند برای انجام درخواست های تأیید درخواست استفاده شود (به زیر مراجعه کنید). فیلد key_fprحاوی اثر انگشت کلید اصلی بارگذاری شده است. این statusنشانه حاوی نقشه ای از آدرس های ایمیل موجود در کلید است که یکی از مunpublished, published, revokedیا pending, وضعیت این آدرس ایمیل را نشان می دهد.

درخواست نمونه:
      {
        "keytext": "<کلید زرهی ASCII>"
      }
                
نمونه پاسخ:
      {
        "key_fpr": "<FINGERPRINT>"،
        "وضعیت": {
          "address@hkazemi689.org": "منتشر نشده"
        }،
        "نشانه": "..."
      }
                
POST /vks/v1/request-verify
کلیدی که آپلود شده است را می توان با اثبات مالکیت آن آدرس از طریق ایمیل تأیید، توسط یک یا چند آدرس ایمیل آن قابل شناسایی کرد. این نقطه پایانی برای یک یا چند آدرس ایمیل درخواست تأیید می کند.

بدنه درخواست باید باشد application/json. داده‌های JSON باید شامل tokenمقدار غیر شفاف (به‌دست‌آمده از طریق /vks/v1/upload ) و یک addressesفیلد باشد که فهرستی از آدرس‌های ایمیل (نه شناسه‌های کامل کاربر) برای درخواست ایمیل‌های تأیید است. می‌تواند به صورت اختیاری شامل یک localeفیلد باشد که فهرستی از مناطق است که بر اساس اولویت مرتب شده‌اند و برای ایمیل تأیید استفاده می‌شود. پاسخ مانند نقطه پایانی /vks/v1/upload خواهد بود ، با آدرس‌هایی که به عنوان pendingمحل ارسال ایمیل تأیید علامت‌گذاری شده‌اند.

درخواست نمونه:
      {
        "نشانه": "..."،
        "آدرس ها": [
          "address@hkazemi689.org"
        ]،
        "locale": [ "de_CH"، "de_DE" ]
      }
                
نمونه پاسخ:
      {
        "key_fpr": "<FINGERPRINT>"،
        "وضعیت": {
          "address@hkazemi689.org": "در حال انتظار"
        }،
        "نشانه": "..."
      }
                
رسیدگی به خطا
اگر درخواست GET به هر دلیلی با شکست مواجه شود، کد وضعیت HTTP مناسب برگردانده می شود. پاسخ یک پیام خطای متنی ساده خواهد بود. اگر کلیدی پیدا نشد، کد وضعیت HTTP 404 خواهد بود .

اگر درخواست POST به هر دلیلی با شکست مواجه شود، یک کد وضعیت HTTP مناسب برگردانده خواهد شد. بدنه پاسخ یک شیhkazemi689 با یویژگی واحد خواهد بود. درخواست POST ممکن است در هر زمانی با خطای HTTP 503 شکست بخورد اگر سرور در حال تعمیر پایگاه داده باشد. مشتریان باید خطاها را با ظرافت برای درخواست های POST رسیدگی کنند.

نمونه پاسخ:
      {
        "error": "در حال حاضر در حال نگهداری برنامه ریزی شده پایگاه داده هستیم!"
      }
            
محدود کردن نرخ
درخواست‌ها به keys.openpgp.org API محدود هستند:

درخواست های اثر انگشت یا شناسه کلید به پنج درخواست در ثانیه محدود می شود. درخواست های بیش از حد با خطای 429 شکست می خورند . یک پنجره انفجاری 1000 وجود دارد.
درخواست از طریق آدرس ایمیل محدود به یک درخواست در دقیقه است. درخواست های بیش از حد با خطای 429 شکست می خورند . پنجره انفجاری 50 وجود دارد.
رابط پروتکل سرور HTTP (HKP).
هاگرید زیر مجموعه ای از پروتکل HKP را پیاده سازی می کند تا ابزارهایی مانند GnuPG و OpenKeychain بتوانند بدون تغییر از آن استفاده کنند.

GET /pks/loop?op=get&options=mr&searc
یک کلید ASCII Armored منطبق با پرس و جو را برمی گرداند. پرس و جو ممکن است:

یک درخواست آدرس ایمیل دقیق فرم localpart@hkazemi689.org.
یک نمایش هگزادسیمال از یک KeyID طولانی (مثلاً 069C0C348DD82C19، پیشوند اختیاری با 0x). این ممکن است شناسه کلید یک کلید اصلی یا یک کلید فرعی باشد.
یک نمایش هگزا دسیمال از یک اثر انگشت (به عنوان مثال 8E8C33FA4626337976D97978069C0C348DD82C19، به صورت اختیاری با پیشوند 0x). این ممکن است اثر انگشت یک کلید اصلی یا یک کلید فرعی باشد.
GET /pks/lookup?op=index&options=mr&search=<QUERY>
فهرستی از کلیدهای قابل خواندن توسط ماشین را برمی‌گرداند که با جستار مطابقت دارند. پرس و جو ممکن است دارای فرم هایی باشد که در بالا توضیح داده

محدودیت نرخ مانند رابط VKS در بالا اعمال می شود.
محدودیت ها
با طراحی، هاگرید پروتکل کامل HKP را پیاده سازی نمی کند. محدودیت های خاص عبارتند از:

بدون پشتیبانی برای op=vindex.
فقط مطابقت های دقیق از طریق آدرس ایمیل، اثر انگشت یا شناسه کلید طولانی بازگردانده می شود.
همه درخواست‌ها یک یا هیچ کلید را برمی‌گردانند.
قسمت تاریخ انقضا در op=indexخالی باقی می ماند (بحث در اینجا ).
همه پارامترها و گزینه های غیر از opو searchنادیده گرفته می شوند.
خروجی همیشه ماشین قابل خواندن است (یعنی options=mrهمیشه فرض می شود).
بارگذاری به 1 مگابایت محدود می شود.
تمام بسته هایی که کلید عمومی، شناسه کاربر یا امضا نیستند، فیلتر می شوند.
Hagrid نسخه 1.5.0 ساخته شده از 6dae460

پشتیبانی شده توسط Sequoia-PGP

تصویر پس زمینه از الگوهای ظریف تحت CC BY-SA 5.0Hi, I’m @deyvid61 I’m interested ...
 I’m currently learning .
-  I’m looking to collaborate on ...
-  How to reach me ...

<!---
deyvid61/deyvid61 is a  special repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look] at your changes.
--->
git remote add origin https://github.com/deyvid61/play.git
 git branch *M main 
git push -u origin 
